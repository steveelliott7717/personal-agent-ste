{
  "task": "Role: RMS GPT (planner+implementer)\nRepo: personal-agent-ste\nBranch: main\nPath prefix: backend/\n\nGoal:\nIntroduce a small, default baseline prompt that is prepended to RMS planning and repo Q&A calls, with env-based overrides and a disable flag. Keep the change minimal, centralized, and backward-compatible.\n\nRequirements:\n- In backend/agents/repo_agent.py, define a DEFAULT_RMS_SYSTEM_PROMPT (short, high-signal) that enforces: return unified diffs (git apply ready), do not invent schemas or code outside scope, keep patches minimal, follow acceptance criteria & verification steps if provided, and prefer small, reversible changes.\n- Prepend this baseline prompt to the message list used in propose_changes(...) (repo/plan) and answer_about_repo(...) (repo/query).\n- Env controls:\n  - If env RMS_BASE_PROMPT is set (non-empty), append it after the default baseline (so teams can extend it).\n  - If env RMS_BASE_PROMPT_DISABLE is 'true' (case-insensitive), skip baseline entirely.\n- Keep response shapes unchanged and avoid touching routes. No DB changes.\n- Add a short note to README.md documenting the new envs and their effect.\n\nAcceptance Criteria:\n- With no envs set, /app/api/repo/plan still works and diffs follow the baseline guardrails.\n- Setting RMS_BASE_PROMPT provides additional lines visible in the server-side prompt assembly (verified via a simple debug echo added in code comments or by temporary logging behind a DEBUG env flag if already present; otherwise inferred via behavior).\n- Setting RMS_BASE_PROMPT_DISABLE=true restores current behavior exactly.\n- No API shape changes; health and other endpoints unaffected.\n\nDeliverables:\n- Updated backend/agents/repo_agent.py with baseline prompt injection + env toggle/override.\n- README.md note describing RMS_BASE_PROMPT and RMS_BASE_PROMPT_DISABLE.\n\nVerification Steps:\n1) Call /app/api/repo/plan with a trivial task; observe that returned patch adheres to the baseline guardrails (unified diffs, minimal changes).\n2) Set RMS_BASE_PROMPT to a custom sentence, redeploy, repeat step 1 to confirm behavior remains aligned.\n3) Set RMS_BASE_PROMPT_DISABLE=true, redeploy, confirm behavior matches original (no baseline influence).\n\nConstraints:\n- Minimal code changes; no refactors.\n- No additional dependencies.\n\nOutput format:\nReturn unified diffs only (git apply ready) plus any new/changed file contents and README changes.",
  "repo": "personal-agent-ste",
  "branch": "main",
  "path_prefix": "backend/",
  "k": 12,
  "session": "s1"
}
