{
    "task": "Implement minimal request logging with correlation IDs under backend/.\n\nRequirements:\n1) New file backend/logging_utils.py:\n   - Use ContextVar to store correlation_id; helpers set_correlation_id(value)->token and clear_correlation_id(token).\n   - CorrelationIdFilter attaches correlation_id (or '-') to log records.\n   - configure_logging(level=INFO) sets basicConfig with format including %(correlation_id)s.\n2) New file backend/middleware/request_logging.py:\n   - Starlette BaseHTTPMiddleware.\n   - On each request: generate UUID4, set in ContextVar and request.state.correlation_id, measure duration, call next.\n   - If LOG_REQUESTS env (default true) is truthy, log method, path, status, duration_ms, correlation_id.\n   - Clear the ContextVar token in finally.\n3) Modify backend/main.py only to: call configure_logging() once at startup and register RequestLoggingMiddleware. No API response shape changes; no heavy deps.\n\nDiff format constraints (NON-NEGOTIABLE):\n- Output ONLY a unified diff starting with 'diff --git'; LF newlines; ends with a newline.\n- For each file: headers in order (diff --git, optional index, '--- a/<path>' or '--- /dev/null', '+++ b/<path>'), then hunks.\n- NEW files: every hunk body line starts with '+'.\n- MODIFIED files: every hunk body line starts with ' ', '+' or '-'; no bare lines.\n- Hunk headers '@@ -a[,al] +b[,bl] @@' must match body counts; split hunks or add context if unsure.\n- Forbidden anywhere: markdown fences ``` , C-style /* */ comments, ellipses placeholders.\n\nAcceptance:\n- On Windows, after CRLFâ†’LF normalization, 'git apply --check' then 'git apply --whitespace=fix' succeed.\n- With LOG_REQUESTS=true, two calls to a simple GET endpoint show logs with method, path, status, duration_ms, correlation_id; IDs differ per request. With LOG_REQUESTS=false, request logs are suppressed but request.state.correlation_id is present.\n\nVerification steps:\n- Set LOG_REQUESTS=true, call /health twice (or an existing GET). Confirm distinct correlation IDs and timing in logs.\n- Set LOG_REQUESTS=false, confirm no request log lines but ID still available in request.state.\n\nConstraints: scope strictly backend/; minimal, reversible changes; no new heavy dependencies.",
    "repo": "personal-agent-ste",
    "branch": "main",
    "path_prefix": "backend/",
    "k": 8,
    "session": "s1",
    "checks": {
        "required": [
            "^diff --git a/backend/",
            "^(?:new file mode 100644|--- a/backend/|--- /dev/null)$",
            "^\\+\\+\\+ b/backend/",
            "^@@ -\\d+(?:,\\d+)? \\+\\d+(?:,\\d+)? @@"
        ],
        "forbidden": [
            "```",
            "/\\*.*?\\*/",
            "^\\s*\\.\\.\\.\\s*$"
        ],
        "max_files": 10,
        "max_bytes": 120000
    }
}