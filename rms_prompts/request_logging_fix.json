{
  "task": "FOLLOW-UP (STRICT DIFF CLEANUP): Re-emit the request logging + correlation ID patch as a valid unified diff that applies cleanly.\n\nKeep the SAME functionality and files as previously intended:\n  - backend/logging_utils.py (ContextVar + CorrelationIdFilter + set/clear helpers + configure_logging)\n  - backend/middleware/request_logging.py (UUID4 per request; set token; start/end logs; finally reset; LOG_REQUESTS env toggle default true)\n  - backend/main.py (call configure_logging() once at startup; add RequestLoggingMiddleware; do not change response schemas)\n\nHARD OUTPUT CONTRACT (NON-NEGOTIABLE):\n- Output ONLY a unified diff (no prose, no markdown, no code fences, no JSON).\n- Use LF newlines, UTF-8 no BOM.\n- Each file section must include correct headers and hunk counts and must apply with: git apply --whitespace=fix\n- Do NOT include any C-style comments like '/* ... */' anywhere. If you must add a no-op note in Python, use '# ...' inside the file and ensure hunk counts match.\n- No changes outside backend/.\n\nAcceptance Criteria:\n- Patch applies with `git apply --check` and `git apply --whitespace=fix`.\n- LOG_REQUESTS read from env (default true). With LOG_REQUESTS=true, exactly one start and one end log per request including method, path, status, duration_ms; with LOG_REQUESTS=false, start/end logs suppressed but correlation_id still present on other logs.\n- All logs during a request include the same correlation_id; ContextVar is reset after each request.\n\nVerification Steps:\n1) Apply: `git apply --check .rms/request_logging.unix.patch` then `git apply --whitespace=fix .rms/request_logging.unix.patch`.\n2) Deploy; call GET /health twice; see two different correlation IDs and start/end lines with duration.\n3) Set LOG_REQUESTS=false and redeploy; start/end lines disappear; other logs still include correlation_id.\n\nConstraints:\n- Python stdlib only; minimal changes; backend/ only.\n\nChecks (lint):\n- required: [\"configure_logging\\\\(\", \"class\\\\s+RequestLoggingMiddleware\\\\(\", \"ContextVar\\\\(\\\\s*\\\"correlation_id\\\"\", \"set_correlation_id\\\\(\", \"clear_correlation_id\\\\(\", \"LOG_REQUESTS\", \"app.add_middleware\\\\(RequestLoggingMiddleware\\\\)\"]\n- forbidden: [\"```\", \"/\\\\*.*?\\\\*/\"]\n- max_files: 10\n- max_bytes: 120000",
  "repo": "personal-agent-ste",
  "branch": "main",
  "path_prefix": "backend/",
  "k": 8,
  "session": "s1"
}
