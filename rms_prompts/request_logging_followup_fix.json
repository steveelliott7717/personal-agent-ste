{
    "task": "STRICT STRUCTURE + TINY FIXES ONLY (no scope changes). Re-issue the request logging patch under backend/ so it applies cleanly and runs.\n\nFix exactly these items:\n1) NEW FILES: backend/logging_utils.py and backend/middleware/request_logging.py must each have a single file section in this order: 'diff --git', optional 'index', 'new file mode 100644', '--- /dev/null', '+++ b/<path>', followed by hunks with ONLY '+' lines. No duplicate 'new file mode' or duplicate file sections.\n2) backend/main.py is an EXISTING file: emit as a single MODIFIED section (NOT new file). Include proper '--- a/backend/main.py' and '+++ b/backend/main.py' and at least one valid '@@' hunk with matching counts that:\n   - adds 'from backend.logging_utils import configure_logging' near imports,\n   - adds 'from backend.middleware.request_logging import RequestLoggingMiddleware' if not present,\n   - calls 'configure_logging()' once after 'app = FastAPI(...)',\n   - calls 'app.add_middleware(RequestLoggingMiddleware)'.\n3) backend/logging_utils.py: ContextVar default must be '-' (string) or None; keep a simple CorrelationIdFilter and configure_logging(format includes %(correlation_id)s). Do not log enable/disable at import; keep minimal.\n4) backend/middleware/request_logging.py: import os and uuid; generate a UUID4 per request; set both the ContextVar and 'request.state.correlation_id' to that value; log only when LOG_REQUESTS=true; clear by resetting the ContextVar to '-' (or previous token) in 'finally'.\n\nDiff format constraints (NON-NEGOTIABLE):\n- Output ONLY a unified diff (LF newlines, trailing newline). No code fences, no C-style block comments, no ellipses.\n- For NEW files: every hunk body line starts with '+'.\n- For MODIFIED files: every hunk body line starts with ' ', '+' or '-' and header counts match the body.\n\nAcceptance:\n- After LF normalization, 'git apply --check' then 'git apply --whitespace=fix' succeed on Windows.\n- With LOG_REQUESTS=true, two GETs produce logs with method/path/status/duration_ms and distinct correlation_ids; with LOG_REQUESTS=false, request logs are suppressed while 'request.state.correlation_id' remains available.",
    "repo": "personal-agent-ste",
    "branch": "main",
    "path_prefix": "backend/",
    "k": 6,
    "session": "s1"
}