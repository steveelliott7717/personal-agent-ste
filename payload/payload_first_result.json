{
    "verb": "browser.run",
    "args": {
        "url": "https://duckduckgo.com/?q=site%3Ahttpbin.org+gzip",
        "timeout_ms": 60000,
        "steps": [
            {
                "wait_for": {
                    "state": "networkidle"
                }
            },
            {
                "wait_for": {
                    "selector": "a[href*=\"/l/?\"]",
                    "state": "visible"
                }
            },
            {
                "evaluate": {
                    "js": "() => { const a=document.querySelector('a[href*=\"/l/?\"]'); if(!a) return null; const u=new URL(a.href); const raw=u.searchParams.get('uddg')||a.href; let href=raw; try{href=decodeURIComponent(raw);}catch{}; window.location.href=href; return href; }"
                }
            },
            {
                "wait_for": {
                    "state": "networkidle"
                }
            },
            {
                "screenshot": {
                    "path": "first_result.png",
                    "full_page": true
                }
            }
        ],
        "return_html": false
    }
}
