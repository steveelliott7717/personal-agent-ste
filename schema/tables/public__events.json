{"table": "events", "schema": "public", "columns": [{"name": "id", "default": "gen_random_uuid()", "ordinal": 1, "identity": "NO", "udt_name": "uuid", "data_type": "uuid", "is_nullable": false}, {"name": "topic", "default": null, "ordinal": 2, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": false}, {"name": "payload", "default": null, "ordinal": 3, "identity": "NO", "udt_name": "jsonb", "data_type": "jsonb", "is_nullable": false}, {"name": "source_agent", "default": null, "ordinal": 4, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": false}, {"name": "correlation_id", "default": null, "ordinal": 5, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": true}, {"name": "idempotency_key", "default": null, "ordinal": 6, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": true}, {"name": "created_at", "default": "now()", "ordinal": 7, "identity": "NO", "udt_name": "timestamptz", "data_type": "timestamp with time zone", "is_nullable": false}, {"name": "latency_ms", "default": null, "ordinal": 8, "identity": "NO", "udt_name": "int4", "data_type": "integer", "is_nullable": true}, {"name": "agent_id", "default": null, "ordinal": 9, "identity": "NO", "udt_name": "uuid", "data_type": "uuid", "is_nullable": true}, {"name": "tags", "default": "'{}'::text[]", "ordinal": 10, "identity": "NO", "udt_name": "_text", "data_type": "ARRAY", "is_nullable": false}, {"name": "user_id", "default": null, "ordinal": 11, "identity": "NO", "udt_name": "uuid", "data_type": "uuid", "is_nullable": true}], "indexes": [{"def": "CREATE INDEX events_agent_id_idx ON public.events USING btree (agent_id)", "name": "events_agent_id_idx"}, {"def": "CREATE UNIQUE INDEX events_idempotency_key_idx ON public.events USING btree (topic, idempotency_key) WHERE (idempotency_key IS NOT NULL)", "name": "events_idempotency_key_idx"}, {"def": "CREATE UNIQUE INDEX events_pkey ON public.events USING btree (id)", "name": "events_pkey"}, {"def": "CREATE INDEX events_tags_gin ON public.events USING gin (tags)", "name": "events_tags_gin"}, {"def": "CREATE INDEX events_topic_created_idx ON public.events USING btree (topic, created_at)", "name": "events_topic_created_idx"}, {"def": "CREATE UNIQUE INDEX events_topic_idem_uidx ON public.events USING btree (topic, idempotency_key) WHERE (idempotency_key IS NOT NULL)", "name": "events_topic_idem_uidx"}, {"def": "CREATE INDEX idx_events_latency_ms_created_at ON public.events USING btree (latency_ms, created_at DESC)", "name": "idx_events_latency_ms_created_at"}, {"def": "CREATE INDEX idx_events_topic_created_at ON public.events USING btree (topic, created_at DESC)", "name": "idx_events_topic_created_at"}], "primary_key": ["id"], "foreign_keys": [{"columns": ["agent_id"], "ref_table": "agents", "constraint": "events_agent_id_fkey", "ref_schema": "public"}, {"columns": ["user_id"], "ref_table": "users", "constraint": "events_user_id_fkey", "ref_schema": "public"}], "rls_policies": [{"cmd": "SELECT", "role": ["anon"], "check": null, "using": "true", "policy": "read_all"}]}
