{"table": "agent_messages", "schema": "public", "columns": [{"name": "id", "default": "gen_random_uuid()", "ordinal": 1, "identity": "NO", "udt_name": "uuid", "data_type": "uuid", "is_nullable": false}, {"name": "created_at", "default": "now()", "ordinal": 2, "identity": "NO", "udt_name": "timestamptz", "data_type": "timestamp with time zone", "is_nullable": false}, {"name": "run_id", "default": null, "ordinal": 3, "identity": "NO", "udt_name": "uuid", "data_type": "uuid", "is_nullable": true}, {"name": "role", "default": null, "ordinal": 4, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": false}, {"name": "name", "default": null, "ordinal": 5, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": true}, {"name": "tool_name", "default": null, "ordinal": 6, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": true}, {"name": "tool_call_id", "default": null, "ordinal": 7, "identity": "NO", "udt_name": "text", "data_type": "text", "is_nullable": true}, {"name": "content", "default": null, "ordinal": 8, "identity": "NO", "udt_name": "jsonb", "data_type": "jsonb", "is_nullable": false}], "indexes": [{"def": "CREATE UNIQUE INDEX agent_messages_pkey ON public.agent_messages USING btree (id)", "name": "agent_messages_pkey"}, {"def": "CREATE INDEX idx_agent_messages_role ON public.agent_messages USING btree (role)", "name": "idx_agent_messages_role"}, {"def": "CREATE INDEX idx_agent_messages_run_id ON public.agent_messages USING btree (run_id, created_at)", "name": "idx_agent_messages_run_id"}], "primary_key": ["id"], "foreign_keys": [{"columns": ["run_id"], "ref_table": "agent_runs", "constraint": "agent_messages_run_id_fkey", "ref_schema": "public"}], "rls_policies": [{"cmd": "ALL", "role": ["public"], "check": "true", "using": "(auth.role() = 'service_role'::text)", "policy": "srw agent_messages"}]}
